def p(j):e=j[0][0]==j[0][9];f=j[0][0];g=(j[0][9],j[9][0])[e];i=({x for R in j for x in R if x}-{f,g}).pop();return[[((g,f)[(c,r)[e]<5],x)[x!=i]for c,x in enumerate(R)]for r,R in enumerate(j)]